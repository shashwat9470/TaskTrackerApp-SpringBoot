<!doctype html>
<html land=en xmlns:th="http:/www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>index</title>
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.css}" />
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap-icons/1.10.2/font/bootstrap-icons.css}" />
</head>
<body>
	<div class="container-fluid">
 		<div class="row mb-3 p-2 bg-dark bg-gradient text-white">
			 <div class="col">
				 <h1>Task Applications</h1>
			 </div>
		 </div>
		 <div class="row">
			 <div class="col">
				 <hr />
			 </div>
		 </div>
		 <table class="table table-hover table-bordered border-1 mt-3">
			 <thead class="table-dark">
				 <tr>
					 <th>Actions</th>
					 <th>Id</th>
					 <th>Description</th>
					 <th>Status</th>
					 <th>Created At</th>
					 <th>Updated At</th>
				 </tr>
			 </thead>
			 <tbody>
				 <tr th:each="item : ${taskItems}" th:class="${item.status} ? 'table-success' : ''">
					 <td>
						 <div class="btn-group btn-group-sm" role="group">
								 <a th:href="@{/edit{id}(id=${item.id})}">
								 	<i class="bi bi-pencil-square btn btn-outline-primary btn-sm"></i></a>
								 	
									<button type="button" class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#staticBackdropForDelete">
										<i class="bi bi-trash3-fill "></i></button>
									 <!-- Modal -->
									<div class="modal fade" id="staticBackdropForDelete" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
									  <div class="modal-dialog">
									    <div class="modal-content">
									      <div class="modal-header">
									        <h1 class="modal-title fs-5" id="staticBackdropLabel">Confirm Delete</h1>
									        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
									      </div>
									      <div class="modal-body">
									        Once deleted can not be recovered. Are you sure to delete the task ?
									      </div>
									      <a th:href="@{/delete{id}(id=${item.id})}" style="text-decoration: none;">
										      <div class="modal-footer">
										        <button type="button" class="btn btn-primary">Confirm</button>
										      </div>
									      </a>
									    </div>
									  </div>
									</div>
					 	 </div>
					 </td>
					 <td th:text="${item.id}"></td>
					 <td th:text="${item.taskDescription}"></td>
					 <td>
						 <span th:if="${item.status} == true" th:text="Done"></span>
						 <span th:unless="${item.status} == true" th:text="Pending"></span>
					 </td>
					 <td th:text="${#temporals.format(item.createdDateTime, 'dd-MM-yyyy HH:mm')}"></td>
					 <td th:text="${#temporals.format(item.updatedDateTime, 'dd-MM-yyyy HH:mm')}"></td>
				 </tr>
			 </tbody>
		 </table>
		 <div class="row">
			<a href="/add-task" style="text-decoration: none;">
				<div class="d-grid gap-2 col-6 mx-auto">
				  	<button type="button" class="btn btn-outline-success">Add Task</button>
			 	</div>
			 </a>
		 </div>
		 
	</div>
	
	<script th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.bundle.js}"></script>
</body>
</html>